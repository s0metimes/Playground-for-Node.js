# node.js 에서 net 모듈을 이용해 socket 프로그램을 짜는 방법

## 구성
구성은 소켓 서버와 소켓 클라이언트로 되어있습니다.

소켓 서버 : socket_server.js
소켓 클라이언트 : socket_client.js

## 목적
소켓 서버를 node.js 로 어떻게 구현하는지 파악하고 그 원리를 이해하여 소켓에 대해 파악합니다.

## 기능
1.  소켓 클라이언트에서 소켓 서버로 메세지를 전송
2.  소켓 서버에서 그 메세지를 글자 그대로 다시 소켓 클라이언트로 보냄
3.  소켓 클라이언트와 소켓 서버에서는 보내고 받은 데이터를 화면에 출력
4.  메세지를 성공적으로 보낼 때마다 로그 기록

## 정리

### net 모듈

net 모듈은 __TCP 혹은 IPC 로 이뤄진 비동기 네트워크 API__ 를 제공합니다.

### IPC (Inter-Process Communication)

#### 배경
프로세스간에 서로의 주소공간을 독립적으로 만들어주기 위해 프로세스간 통신이 필요할 때
모든 프로세스 스택에 접근이 가능한 커널을 통해 데이터를 전달할 수 있도록 하였습니다.

만일 프로세스 간에 서로의 주소공간을 침범하여 데이터를 가져올 수 있도록 했다면,
응용프로그램에서 이를 악용하여 정보를 빼오거나 운영체제 자체에 타격을 입힐 수 있습니다.

#### 정의
프로세스 간 통신을 뜻합니다.
커널에서 제공합니다.

#### IPC 종류
-   시그널
-   파이프
-   메세지 큐
-   공유 메모리
-   메일박스

등등 많이 있습니다.

node.js 의 net 모듈에서는 IPC 기능을 제공합니다.

#### packet flag 들

-   FIN : 데이터 전송을 종료한다.
-   RST : 송신자가 유효하지 않은 연결을 시도할 때 거부하는데 이용되고 또한 통신의 연결 및 종료를 정상적으로 할 수 없을 때 사용된다.
-   SYN : 통신 시작 시 연결을 요청하고 ISN을 교환한다.

이 외에도 많은 플래그들이 있다. 확인하고 추가바람.

#### 참고 사이트

-   TCP/IP 스터디 : <https://www.slideshare.net/skytear7/tcpip-28415220>
